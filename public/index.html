<html>
  <head>
    <title>Vanilla Boilerplate</title>

	  <script src="https://cdn.jsdelivr.net/npm/web3@latest/dist/web3.min.js"></script>
    <script src="https://npmcdn.com/moralis@latest/dist/moralis.js"></script>
    <script src="//cdn.jsdelivr.net/npm/phaser@3.55.2/dist/phaser.min.js"></script>


  </head>

  <body>

    <button id="btn-login">Metamask Login</button>
    <button id="btn-logout">Logout</button>
    <br><br>

    <script>
      // connect to Moralis server
      Moralis.initialize("4SJbqJrqj31Vy4zgP6qTXSQZM4EKpUn6CqreX6Xi");
      Moralis.serverURL = "https://irgjvyx5h7jg.usemoralis.com:2053/server";



	var config = {
    	type: Phaser.AUTO,
    	width: 800,
    	height: 600,
    	scene: {
        	preload: preload,
        	create: create,
        	update: update
    		}
	};

	var game = new Phaser.Game(config);
	var platforms;
	    
	// loading assets
	function preload ()
	{
		this.load.image('background', 'assets/BG.png');
		this.load.image('ground', 'assets/Tiles/Tile (2).png');
	}

	// initial setup
	function create ()
	{
		this.add.image(400, 300, 'background').setScale(0.55);
		platforms = this.physics.add.staticGroup();
		platforms.create(600, 400, 'ground');
	}

	// 60 frames per second
	function update ()
	{
		// logic
		
	}


      // add from here down
      async function login() {
        let user = Moralis.User.current();
        if (!user) {
          user = await Moralis.Web3.authenticate();
          launch()
        }
        console.log("logged in user:", user);
      }

      async function logOut() {
        await Moralis.User.logOut();
        console.log("logged out");
        location.reload();
      }


      document.getElementById("btn-login").onclick = login;
      document.getElementById("btn-logout").onclick = logOut;




    </script>


  </body>


</html>
